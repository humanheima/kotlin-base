# 为什么需要协程？
协程可以简化异步编程，可以顺序地表达程序，协程也提供了一种避免阻塞线程并用更廉价、更可控的操作替代线程阻塞的方法 -- 协程挂起。

Kotlin 的协程是依靠编译器实现的, 并不需要操作系统和硬件的支持。编译器为了让开发者编写代码更简单方便, 提供了一些关键字(例如suspend), 
并在内部自动生成了一些支持型的代码。



### Dispatchers
Unconfined 表示在被调用的线程中启动协程，直到程序运行到第一个挂起点，协程会在相应的挂起函数所使用的任何线程中恢复。

### 挂起函数的工作原理

协程内部使用状态机来处理不同的挂起点.每一个挂起点和初始挂起点对应的 Continuation 都会转化为一种状态，协程恢复只是跳转到下一种状态中。
挂起函数将执行过程分为多个 Continuation 片段，并且利用状态机的方式保证各个片段是顺序执行的。